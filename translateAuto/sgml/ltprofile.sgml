<!-- doc/src/sgml/lt_profile.sgml -->

<sect1 id="pgprofile" xreflabel="pgprofile">
    <title>lt_profile</title>

    <indexterm zone="pgprofile">
        <primary>lt_profile</primary>
    </indexterm>

    <para>This extension for LightDB helps you to find out most resource-consuming activities in
        your LightDB databases.</para>
    <sect2>
        <title>Concepts</title>
        <para>Extension is based on statistic views of LightDB and contrib extension <emphasis
            role="italic">lt_stat_statements</emphasis>, <emphasis role="italic">lt_stat_activity
            </emphasis> and <emphasis role="italic">system_stats</emphasis>.
            It is written in pure pl/pgsql and doesn't need any external libraries
            or software, but LightDB database itself. </para>
        <para>Historic repository will be created in your database by this extension. This
            repository will hold statistic "samples" for your lightdb clusters. Sample is taken by
            calling <emphasis role="italic">take_sample()</emphasis> function. LightDB also provide
            another lt_cron extension tool performing periodic take sample tasks.</para>
        <para>Periodic samples can help you finding most resource intensive activities in the past.
            Suppose, you were reported performance degradation several hours ago. Resolving such
            issue, you can build a report between two samples bounding performance issue period to
            see load profile of your database.</para>
        <para>You can take an explicit sample before running any batch processing, and after it will
            be done.</para>
        <para>Any time you are taking a sample, <emphasis role="italic"
                >pg_stat_statements_reset()</emphasis> will be called, ensuring you wont loose
            statements due to reaching <emphasis role="italic">lt_stat_statements.max</emphasis>.
            Also, report will contain section, informing you if captured statements count in any
            sample reaches 90% of <emphasis role="italic">lt_stat_statements.max</emphasis>.</para>
        <para><emphasis role="italic">lt_profile</emphasis>, installed in one cluster is able to
            collect statistics from other clusters, called <emphasis role="italic"
                >servers</emphasis>. You just need to define some servers, providing names and
            connection strings and make sure connection can be established to all databases of all
                <emphasis role="italic">servers</emphasis>. Now you can track, for example,
            statistics on your standbys from master, or from any other server. Once extension is
            installed, a <emphasis role="italic">local</emphasis> server is automatically created -
            this is a server for cluster where <emphasis role="italic">lt_profile</emphasis>
            resides.</para>
    </sect2>
    <sect2>
        <title>Extension architecture</title>
        <para>Extension consists of four parts:</para>
        <itemizedlist>
            <listitem>
                <para><emphasis role="bold">Historic repository</emphasis> is a storage for sampling
                    data. Repository is a set of extension tables.</para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Sample management engine</emphasis> is a set of
                    functions, used for taking <emphasis role="italic">samples</emphasis> and
                    support repository by removing obsolete sample data from it.</para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Report engine</emphasis> is a set of functions used for
                    report generation based on data from historic repository.</para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">Administrative functions</emphasis> allows you to create
                    and manage <emphasis role="italic">servers</emphasis> and <emphasis
                        role="italic">baselines</emphasis>.</para>
            </listitem>
        </itemizedlist>
    </sect2>
    <sect2>
        <title>Prerequisites</title>
        <para>Although <emphasis role="italic">lt_profile</emphasis> is usually installed in the
            target cluster, it also can collect performance data from other clusters. Hence, we have
            prerequisites for <emphasis role="italic">lt_profile</emphasis> database, and for
                <emphasis role="italic">servers</emphasis>.</para>
        <sect3>
            <title>lt_profile database prerequisites</title>
            <para><emphasis role="italic">lt_profile</emphasis> extension depends on extensions
            <emphasis role="italic">plpgsql</emphasis> and <emphasis role="italic">dblink</emphasis>.
            </para>
        </sect3>
        <sect3>
            <title>Servers prerequisites</title>
            <para>Consider setting following Statistics Collector parameters:</para>
            <programlisting> track_activities = on
 track_counts = on
 track_io_timing = on
 track_functions = all/pl</programlisting>
            <para>To obtain statement statistics in reports, then database, mentioned in server
                connection string must have <emphasis role="italic">lt_stat_statements</emphasis>
                extension configured. Set <emphasis role="italic">lt_stat_statements</emphasis>
                parameters to meet your needs (see LightDB documentation):</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="italic">lt_stat_statements.max</emphasis> - low setting
                        for this parameter may cause some statements statistics to be wiped out
                        before sample is taken. Report will warn you if your <emphasis role="italic"
                            >lt_stat_statements.max</emphasis> is seems to be undersized.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">lt_stat_statements.track = 'top'</emphasis> -
                            <emphasis role="italic">all</emphasis> value will affect accuracy of
                            <emphasis role="italic">%Total</emphasis> fields for statements-related
                        sections of a report.</para>
                </listitem>
            </itemizedlist>
        </sect3>
    </sect2>
    <sect2>
        <title>Creating Extensions</title>
            <para>The most easy way is to install everything in public schema of a database:</para>
            <programlisting> 
 lightdb@postgres=# CREATE EXTENSION dblink;
 lightdb@postgres=# CREATE EXTENSION lt_stat_statements;
 lightdb@postgres=# CREATE EXTENSION lt_stat_activity;
 lightdb@postgres=# CREATE EXTENSION system_stats;
 lightdb@postgres=# CREATE EXTENSION lt_profile;</programlisting>
            <para>If you want to install <emphasis role="italic">lt_profile</emphasis> in other
                schema, just create it, and install extension in that schema:</para>
            <programlisting> 
 lightdb@postgres=# CREATE EXTENSION dblink;
 lightdb@postgres=# CREATE EXTENSION lt_stat_statements;
 lightdb@postgres=# CREATE EXTENSION lt_stat_activity;
 lightdb@postgres=# CREATE EXTENSION system_stats;
 lightdb@postgres=# CREATE SCHEMA profile;
 lightdb@postgres=# CREATE EXTENSION lt_profile SCHEMA profile;</programlisting>
            <para>All objects will be created in schema, defined by SCHEMA clause. Installation in
                dedicated schema <emphasis role="underline">is the recommended way</emphasis> - the
                extension will create its own tables, views, sequences and functions. It is a good
                idea to keep them separate. If you don't want to specify schema qualifier when using
                module, consider changing <emphasis role="italic">search_path</emphasis>
                setting.</para>
    </sect2>
    <sect2>
        <title>Privileges</title>
        <para>Using <emphasis role="italic">lt_profile</emphasis> with a superuser privileges does
            not have any issues, but if you want to avoid using superuser permissions, here is the
            guide:</para>
        <sect3>
            <title>On lt_profile database</title>
            <para>Create an unprivileged user:</para>
            <programlisting> create role profile_usr login password 'pwd';</programlisting>
            <para>Create a schema for lt_profile installation:</para>
            <programlisting> create schema profile authorization profile_usr;</programlisting>
            <para>Grant usage permission on schema, where <emphasis role="italic">dblink</emphasis>
                extension resides:</para>
            <programlisting> grant usage on schema public to profile_usr;</programlisting>
            <para>Create the extension using <emphasis role="italic">profile_usr</emphasis>
                account:</para>
            <programlisting>lightdb@postgres=> create extension lt_profile schema profile;</programlisting>
        </sect3>
        <sect3>
            <title>On server database</title>
            <para>Create a user for <emphasis role="italic">lt_profile</emphasis> to connect:</para>
            <programlisting>create role profile_mon login password 'pwd_mon';</programlisting>
            <para>Make sure this user have permissions to connect to any database in a cluster (by
                default, it is), and <emphasis role="italic">lt_hba.conf</emphasis> will permit such
                connection from <emphasis role="italic">lt_profile</emphasis> database host. Also,
                we need <emphasis role="italic">pg_read_all_stats</emphasis> privilege, and execute
                privilege on pg_stat_statements_reset:</para>
            <programlisting>grant pg_read_all_stats to profile_mon;
grant execute on function pg_stat_statements_reset TO profile_mon;</programlisting>
        </sect3>
        <sect3>
            <title>Server setup at lt_profile database</title>
            <para>Non-superusers can't establish connection without a password. Best way to provide
                password is using a password file.</para>
            <para>N.B. lt_profile will connect to all databases on a server, thus password file must
                use a wildcard as a database name.</para>
            <para>As an insecure way, you can provide a password in connection string:</para>
            <programlisting>select server_connstr('local','dbname=postgres port=5432 user=profile_mon password=pwd_mon');</programlisting>
        </sect3>
    </sect2>
    <sect2>
        <title>Using lt_profile</title>
        <sect3>
            <title>Setting extension parameters</title>
            <para>You can define extension parameters in <emphasis role="italic"
                    >lightdb.conf</emphasis>. Default values:</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="italic">lt_profile.topn = 10</emphasis> - Number of top
                        objects (statements, relations, etc.), to be reported in each sorted report
                        table. Also, this parameter affects size of a sample - the more objects you
                        want to appear in your report, the more objects we need to keep in a
                        sample.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">lt_profile.max_sample_age = 7</emphasis> -
                        Retention time of samples in days. Samples, aged <emphasis role="italic"
                            >lt_profile.max_sample_age</emphasis> days and more will be
                        automatically deleted on next <emphasis role="italic"
                            >take_sample()</emphasis> call.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">lt_profile.track_sample_timings = on</emphasis> -
                        when this parameter is on, <emphasis role="italic">lt_profile</emphasis>
                        will track detailed sample taking timings.</para>
                </listitem>
            </itemizedlist>
        </sect3>
        <sect3>
            <title>Managing servers</title>
            <para>Once installed, extension will create one enabled <emphasis role="italic"
                    >local</emphasis> server - this is for cluster, where extension is
                installed.</para>
            <para>Servers management functions:</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="bold">create_server(server name, server_connstr text,
                            server_enabled boolean = TRUE, max_sample_age integer = NULL,
                            description text = NULL)</emphasis> - creates a new server description
                        Function arguments:</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name (must be
                                unique)</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">server_connstr</emphasis> - server
                                connection string</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">enabled</emphasis> - server enable flag.
                                When is set, server will be included in the common <emphasis
                                    role="italic">take_sample()</emphasis> call</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">max_sample_age</emphasis> - server sample
                                retention parameter overrides global <emphasis role="italic"
                                    >lt_profile.max_sample_age</emphasis> setting for this
                                server</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">description</emphasis> - server
                                description text. Will be included in reports</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">drop_server(server name)</emphasis> Drops a server
                        and all its samples.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">enable_server(server name)</emphasis> Includes
                        server in common take_sample() call.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">disable_server(server name)</emphasis> Excludes
                        server from common take_sample() call.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">rename_server(server name, new_name name)</emphasis>
                        Renames a server.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">set_server_max_sample_age(server name,
                            max_sample_age integer)</emphasis> Set new retention period (in days)
                        for a server. <emphasis role="italic">max_sample_age</emphasis> is integer
                        value. To reset a server <emphasis role="italic">max_sample_age</emphasis>
                        setting set it to NULL.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">set_server_db_exclude(server name, exclude_db
                            name[])</emphasis> Set exclude databases list for a server. Used in
                        cases, when you unable to connect to some databases in cluster (for example
                        in Amazon RDS instances).</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">set_server_connstr(server name, new_connstr
                            text)</emphasis> Set new connection string for a server.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">set_server_description(server name, description
                            text)</emphasis> Set new server description.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">show_servers()</emphasis> Display existing
                        servers.</para>
                </listitem>
            </itemizedlist>
            <para>Server creation example:</para>
            <programlisting>SELECT server_new('omega','host=name_or_ip dbname=postgres port=5432');</programlisting>
        </sect3>
        <sect3>
            <title>Rare relation sizes collection</title>
            <para>LightDB relation size functions may take considerable amount of time to collect
                sizes of all relations in a database. Also those functions require <emphasis
                    role="italic">AccessExclusiveLock</emphasis> on a relation. However daily
                relation sizes collection may be quite enough for you. <emphasis role="italic"
                    >lt_profile</emphasis> can skip relation sizes collection while taking samples
                guided by server size collection policy. Policy is defined as a daily window when
                relation size collection is permitted, and a minimal gap between two samples with
                relation sizes collected. Thus when size collection policy is defined sample taking
                function will collect relation sizes only when sample is taken in a window and
                previous sample with sizes is older then gap. Function <emphasis role="italic"
                    >set_server_size_sampling</emphasis> defines this policy:</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="italic">set_server_size_sampling(server name, window_start
                            time with time zone = NULL, window_duration interval hour to second =
                            NULL, sample_interval interval day to minute = NULL)</emphasis></para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">window_start</emphasis> - size collection
                                window start time</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">window_duration</emphasis> - size
                                collection window duration</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">sample_interval</emphasis> - minimum time
                                gap between two samples with relation sizes collected Size
                                collection policy is defined only when all three parameters are
                                set.</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </itemizedlist>
            <para>Example:</para>
            <programlisting>SELECT set_server_size_sampling('local','23:00+03',interval '2 hour',interval '8 hour');</programlisting>
            <para>Function <emphasis role="italic">show_servers_size_sampling</emphasis> show
                defined sizes collection policy for all servers:</para>
            <programlisting>lightdb@postgres=# SELECT * FROM show_servers_size_sampling();
 server_name | window_start | window_end  | window_duration | sample_interval
-------------+--------------+-------------+-----------------+-----------------
 local       | 23:00:00+03  | 01:00:00+03 | 02:00:00        | 08:00:00</programlisting>
            <para>When you build a report between samples either of which lacks relation sizes data
                then relation growth sections will be excluded from report. However, <emphasis
                    role="italic">with_growth</emphasis> parameter of report generation functions
                will expand report bounds to nearest samples with relation sizes data collected.
                Relation sizes is needed for calculating sequentially scanned volume for tables and
                explicit vacuum load for indexes. When rare relation sizes collection is used,
                corresponding report sections data is based on linear interpolation.</para>
        </sect3>
        <sect3>
            <title>Samples</title>
            <para>Every sample contains statistic information about database workload since previous
                sample.</para>
            <sect4>
                <title>Sample functions</title>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">take_sample()</emphasis> Function <emphasis
                                role="italic">take_sample()</emphasis> will collect a sample for all
                                <emphasis role="italic">enabled</emphasis> servers. Server samples
                            will be taken serially one by one. Function returns a table:</para>
                        <programlisting>server      name,
result      text,
elapsed     interval</programlisting>
                        <para>Where:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> is a server
                                    name</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">result</emphasis> is a result of taken
                                    sample. It can be 'OK' if sample was taken successively, and
                                    will contain error text in case of exception</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">elapsed</emphasis> is a time elapsed
                                    taking a sample for <emphasis role="italic">server</emphasis>
                                    Such return makes it easy to control samples creation using SQL
                                    query.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">take_sample_subset([sets_cnt integer],
                                [current_set integer])</emphasis> Due to serial samples processing
                                <emphasis role="italic">take_sample()</emphasis> function can take
                            considerable amount of time. Function <emphasis role="italic"
                                >take_sample_subset()</emphasis> will take samples for a subset of
                            enabled servers. It is convenient for parallel samples collection.
                                <emphasis role="italic">sets_cnt</emphasis> is number of servers
                            subsets. <emphasis role="italic">current_set</emphasis> is a subset to
                            process, taking values between 0 and <emphasis role="italic">sets_cnt -
                                1</emphasis> inclusive. Function returns a table:</para>
                        <programlisting>server      name,
result      text,
elapsed     interval</programlisting>
                        <para>Where:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> is a server
                                    name</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">result</emphasis> is a result of taken
                                    sample. It can be 'OK' if sample was taken successively, and
                                    will contain error text in case of exception</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">elapsed</emphasis> is a time elapsed
                                    taking a sample for <emphasis role="italic"
                                    >server</emphasis></para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">take_sample(server name [, skip_sizes
                                boolean])</emphasis> Will collect a sample for specified server. Use
                            it, for example, when you want to use different sampling frequencies, or
                            if you want to take explicit sample on a server.</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> - name of a server
                                    to take sample</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">skip_sizes</emphasis> - override
                                    server relation size collection policy. Policy applies only when
                                        <emphasis role="italic">skip_size</emphasis> argument is
                                    omitted or set to null. <emphasis role="italic">false</emphasis>
                                    value of <emphasis role="italic">skip_sizes</emphasis> argument
                                    cause take sample with relation sizes, while <emphasis
                                        role="italic">true</emphasis> will cause skipping relation
                                    sizes collection during a sample.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">show_samples([server name,] [days
                                integer])</emphasis> Returns a table, containing existing samples of
                            a <emphasis role="italic">server</emphasis> (<emphasis role="italic"
                                >local</emphasis> server assumed if <emphasis role="italic"
                                >server</emphasis> is omitted) for <emphasis role="italic"
                                >days</emphasis> last days (all existing samples if omitted):</para>
                        <programlisting>sample            integer,
sample_time       timestamp (0) with time zone,
dbstats_reset     timestamp (0) with time zone,
clustats_reset    timestamp (0) with time zone,
archstats_reset   timestamp (0) with time zone</programlisting>
                        <para>Where:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">sample</emphasis> is a sample
                                    identifier</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">sample_time</emphasis> is a time when
                                    this sample was taken</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">dbstats_reset</emphasis>, <emphasis
                                        role="italic">clustats_reset</emphasis> and <emphasis
                                        role="italic">archstats_reset</emphasis> is usual null, but
                                    will contain <emphasis role="italic"
                                    >pg_stat_database</emphasis>, <emphasis role="italic"
                                        >pg_stat_bgwriter</emphasis> and <emphasis role="italic"
                                        >pg_stat_archiver</emphasis> statistics reset timestamp if
                                    it was happend since previous sample Sample-collecting functions
                                    are also supports the server repository - it will delete
                                    obsolete samples and baselines with respect to <emphasis
                                        role="italic">retention policy</emphasis>.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Taking samples</title>
                <para>You must create at least 2 samples to be able to build your first report
                    between 1st and 2nd samples. Samples for all enabled servers are taken by
                    calling <emphasis role="italic">take_sample()</emphasis> function. There is no
                    need in frequent samples creation - usual essential frequency is one or two
                    samples per hour. You can use cron-like tool to schedule samples creation.
                    Example with 30 min period:</para>
                <programlisting>*/30 * * * *   ltsql -c 'SELECT take_sample()' > /dev/null 2>&amp;1</programlisting>
                <para>However, such call has no error checking on <emphasis role="italic"
                        >take_sample()</emphasis> function results. Consider using more smart usage
                    of <emphasis role="italic">take_sample()</emphasis> function, providing results
                    to your monitoring system.</para>
                <para>Function will return 'OK' for all servers with successfully taken samples, and
                    show error text for failed servers:</para>
                <programlisting>select * from take_sample();
  server   |                                   result                                    |   elapsed
-----------+-----------------------------------------------------------------------------+-------------
 ok_node   | OK                                                                          | 00:00:00.48
 fail_node | could not establish connection                                             +| 00:00:00
           | SQL statement "SELECT dblink_connect('server_connection',server_connstr)"  +|
           | PL/pgSQL function take_sample(integer) line 69 at PERFORM                  +|
           | PL/pgSQL function take_sample_subset(integer,integer) line 27 at assignment+|
           | SQL function "take_sample" statement 1                                     +|
           | FATAL:  database "nodb" does not exist                                      |
(2 rows)</programlisting>
            </sect4>
            <sect4>
                <title>Sample data retention</title>
                <para>We can't store sample data forever, thus we have a retention policy. You can
                    define retentions on three levels:</para>
                <itemizedlist>
                    <listitem>
                        <para>Setting parameter <emphasis role="italic"
                                >lt_profile.max_sample_age</emphasis> in lightdb.conf file. This
                            is a common retention, it is effective if none of others is
                            defined.</para>
                    </listitem>
                    <listitem>
                        <para>Define server <emphasis role="italic">max_sample_age</emphasis>
                            setting while creating a server, or using <emphasis role="italic"
                                >set_server_max_sample_age()</emphasis> function for existing
                            server. This setting overrides global <emphasis role="italic"
                                >lt_profile.max_sample_age</emphasis> setting for a specific
                            server.</para>
                    </listitem>
                    <listitem>
                        <para>Create a baseline (see below). Baseline will override retention period
                            for included samples with highest priority.</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Listing samples</title>
                <para>Use <emphasis role="italic">show_samples()</emphasis> function to get list of
                    existing samples in the repository. This function will show detected statistics
                    reset times.</para>
            </sect4>
            <sect4>
                <title>Sample taking timings</title>
                <para><emphasis role="italic">lt_profile</emphasis> will collect detailed sample
                    taking timing statistics when parameter <emphasis role="italic"
                        >lt_profile.track_sample_timings</emphasis> is on. Results can be obtained
                    from <emphasis role="italic">v_sample_timings</emphasis> view. <emphasis
                        role="italic">v_sample_timings</emphasis> fields description:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">server_name</emphasis> - sampled server
                            name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">sample_id</emphasis> - sample
                            identifier</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">sample_time</emphasis> - when the sample was
                            taken</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">event</emphasis> - sample taking stage</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">time_spent</emphasis> - amount of time spent
                            in the event</para>
                    </listitem>
                </itemizedlist>
                <para>Event descriptions:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">total</emphasis> - Taking the sample (all
                            stages).</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">connect</emphasis> - Making dblink connection to
                            the server.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get server environment</emphasis> - Getting
                            server GUC parameters, available extensions, etc.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">collect database stats</emphasis> - Querying the
                            pg_stat_database view for statistics on databases.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">calculate database stats</emphasis> -
                            Calculating differential statistics on databases since the previous
                            sample.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">collect tablespace stats</emphasis> - Querying
                            the pg_tablespace view for statistics on tablespaces.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">collect statement stats</emphasis> - Collecting
                            statistics on statements using the <emphasis role="italic"
                                >lt_stat_statements</emphasis> extension.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">query pg_stat_bgwriter</emphasis> - Collecting
                            cluster statistics using the pg_stat_bgwriter view.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">query pg_stat_archiver</emphasis> - Collecting
                            cluster statistics using the pg_stat_archiver view.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">collect object stats</emphasis> - Collecting
                            statistics on database objects. Includes following events:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="bold">db:<emphasis role="italic"
                                            >dbname</emphasis> collect tables stats</emphasis> -
                                    Collecting statistics on tables for the <emphasis role="italic"
                                        >dbname</emphasis> database.</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">db:<emphasis role="italic"
                                            >dbname</emphasis> collect indexes stats</emphasis> -
                                    Collecting statistics on indexes for the <emphasis role="italic"
                                        >dbname</emphasis> database.</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">db:<emphasis role="italic"
                                            >dbname</emphasis> collect functions stats</emphasis> -
                                    Collecting statistics on functions for the <emphasis
                                        role="italic">dbname</emphasis> database.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">maintain repository</emphasis> - Executing
                            support routines.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">calculate tablespace stats</emphasis> -
                            Calculating differential statistics on tablespaces.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">calculate object stats</emphasis> - Calculating
                            differential statistics on database objects. Includes following
                            events:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="bold">calculate tables stats</emphasis> -
                                    Calculating differential statistics on tables of all
                                    databases.</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">calculate indexes stats</emphasis> -
                                    Calculating differential statistics on indexes of all
                                    databases.</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">calculate functions stats</emphasis> -
                                    Calculating differential statistics on functions of all
                                    databases.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">calculate cluster stats</emphasis> - Calculating
                            cluster differential statistics.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">calculate archiver stats</emphasis> -
                            Calculating archiever differential statistics.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">delete obsolete samples</emphasis> - Deleting
                            obsolete baselines and samples.</para>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>Baselines</title>
            <para>Baseline is a named sample sequence, having its own retention setting. Baseline
                can be used in report-building functions as a sample interval. Undefined baseline
                retention means infinite retention. You can use baselines to save information about
                database workload on certain time period. For example, you may want to save samples,
                gathered during load testing, or during regular load on your system for further
                reference. Baseline management functions:</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="bold">create_baseline([server name,] baseline_name
                            varchar(25), start_id integer, end_id integer [, days
                            integer])</emphasis> - create a baseline</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name. <emphasis
                                    role="italic">local</emphasis> server is assumed if
                                omitted</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">name</emphasis> - baseline name. Each
                                baseline must have unique name within a server.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">start_id</emphasis>, <emphasis
                                    role="italic">end_id</emphasis> - first and last samples,
                                included in baseline.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">days</emphasis> - baseline retention time.
                                Defined in integer days since <emphasis role="italic"
                                    >now()</emphasis>. This parameter may be omitted (or set to
                                    <emphasis role="italic">null</emphasis>), meaning infinite
                                retention.</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">create_baseline([server name,] baseline_name
                            varchar(25), time_range tstzrange [, days integer])</emphasis> - create
                        a baseline</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name. <emphasis
                                    role="italic">local</emphasis> server is assumed if
                                omitted</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">name</emphasis> - baseline name. Each
                                baseline must have unique name within a server.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">time_range</emphasis> - baseline time
                                interval. Baseline will include all available samples, overlapping
                                this interval.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">days</emphasis> - baseline retention time.
                                Defined in integer days since <emphasis role="italic"
                                    >now()</emphasis>. This parameter may be omitted (or be set to
                                    <emphasis role="italic">null</emphasis>), meaning infinite
                                retention.</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">drop_baseline([server name,] name
                            varchar(25))</emphasis> - drop a baseline</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name. <emphasis
                                    role="italic">local</emphasis> server is assumed if
                                omitted</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">name</emphasis> - baseline name to drop.
                                Dropping a baseline does not mean immediate drop of all its samples,
                                they are just excluded from baseline, thus is not more covered with
                                baseline retention.</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">keep_baseline([server name,] name varchar(25) [,
                            days integer])</emphasis> - change retention of baselines</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name. <emphasis
                                    role="italic">local</emphasis> server is assumed if
                                omitted</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">name</emphasis> - baseline name. This
                                parameter may be omitted (or be set to <emphasis role="italic"
                                    >null</emphasis>) to change retention of all existing
                                baselines.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">days</emphasis> - retention time of a
                                baseline in days since <emphasis role="italic">now()</emphasis>.
                                Also, may be omitted (or set to null) to set infinite
                                retention.</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">show_baselines([server name])</emphasis> - displays
                        existing baselines. Call this function to get information about existing
                        baselines (names, sample intervals, and retention times)</para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">server</emphasis> - server name. <emphasis
                                    role="italic">local</emphasis> server is assumed if
                                omitted</para>
                        </listitem>
                    </itemizedlist>
                    <programlisting>lightdb@postgres=# SELECT * FROM baseline_show('local');</programlisting>
                </listitem>
            </itemizedlist>
        </sect3>
        <sect3>
            <title>Data export and import</title>
            <para>Collected samples can be exported from instance of <emphasis role="italic"
                    >lt_profile</emphasis> extension and than loaded into another one. This feature
                is useful when you want to move servers from one instance to another, or when you
                need to send collected data to your support team.</para>
            <sect4>
                <title>Data export</title>
                <para>Data is exported as a regular table by function export_data(). You can use any
                    method to export this table from your database. For example, you can use
                        <emphasis role="italic">copy</emphasis> command of ltsql to obtain single
                    .csv file:</para>
                <programlisting>lightdb@postgres=# \copy (select * from export_data()) to 'export.csv'</programlisting>
                <para>By default <emphasis role="italic">export_data()</emphasis> function will
                    export all samples of all configured servers. However you can limit export to
                    only one server, and further limit sample range too:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">export_data([server name, [min_sample_id
                                integer,] [max_sample_id integer]] [, obfuscate_queries
                                boolean])</emphasis> - export collected data</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> is a server name.
                                    All servers is assumed if omitted</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">min_sample_id</emphasis> and <emphasis
                                        role="italic">max_sample_id</emphasis> - export bounding
                                    sample identifiers (inclusive). Null value of <emphasis
                                        role="italic">min_sample_id</emphasis> bound cause export of
                                    all samples till <emphasis role="italic"
                                        >max_sample_id</emphasis>, and null value of <emphasis
                                        role="italic">max_sample_id</emphasis> cause export of all
                                    samples since <emphasis role="italic"
                                    >min_sample_id</emphasis>.</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">obfuscate_queries</emphasis> - use
                                    this parameter only when you want to hide query texts - they
                                    will be exported as MD5 hash.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Data import</title>
                <para>Data can be imported from local table only, thus previously exported data is
                    need to be loaded first. In our case with <emphasis role="italic"
                        >copy</emphasis> command:</para>
                <programlisting>
lightdb@postgres=# CREATE TABLE import (section_id bigint, row_data json);
CREATE TABLE
lightdb@postgres=# \copy import from 'export.csv'
COPY 6437</programlisting>
                <para>Now we can perform data import, providing this table to <emphasis
                        role="italic">import_data()</emphasis> function:</para>
                <programlisting>lightdb@postgres=# SELECT * FROM import_data('import');</programlisting>
                <para>Although server descriptions is also imported, your local <emphasis
                        role="italic">lt_profile</emphasis> servers with matching names will
                    prohibit import operations. Consider temporarily rename those servers. If you'll
                    need to import new data for previously imported servers, they will be matched by
                    system identifier, so fell free to rename imported sever as you wish. All
                    servers are imported in <emphasis role="italic">disabled</emphasis> state.
                        <emphasis role="italic">import_data()</emphasis> function takes only the
                    imported table:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">import_data(data regclass)</emphasis></para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">data</emphasis> - table containing
                                    exported data This function returns number of rows actually
                                    loaded in extension tables. After successful import operation
                                    you can drop <emphasis role="italic">import</emphasis>
                                    table.</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>Reports</title>
            <para>Reports are generated in HTML markup by reporting functions, which containing statistical
             information about instance workload during report interval.</para>
            <sect4>
                <title>PWR report functions</title>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">get_pwr([server name,] start_id integer,
                                end_id integer [, description text [, with_growth
                                boolean]])</emphasis> - generate PWR report by sample identifiers</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_pwr([server name,] time_range tstzrange
                                [, description text [, with_growth boolean]])</emphasis> - generate
                            PWR report for the shortest sample interval, covering provided <emphasis
                                role="italic">time_range</emphasis>.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_pwr([server name], baseline varchar(25)
                                [, description text [, with_growth boolean]])</emphasis> - generate
                           PWR report, using baseline as samples interval</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_pwr_latest([server name])</emphasis> -
                            generate PWR report for two latest samples Function arguments:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> - server name.
                                        <emphasis role="italic">local</emphasis> server is assumed
                                    if omitted</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">start_id</emphasis> - interval begin
                                    sample identifier</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">end_id</emphasis> - interval end
                                    sample identifier</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">time_range</emphasis> - time range
                                        (<emphasis role="italic">tstzrange</emphasis> type)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">baseline</emphasis> - a baseline
                                    name</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">with_growth</emphasis> - a flag,
                                    requesting interval expansion to nearest bounds with relation
                                    growth data available. Default value is <emphasis role="italic"
                                        >false</emphasis></para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">description</emphasis> - a text memo,
                                    it will be included in report as a report description</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>PSH report functions</title>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="bold">get_psh([server name,] start_id integer,
                                end_id integer [, description text [, with_growth
                                boolean]])</emphasis> - generate PSH report by sample identifiers</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_psh([server name,] time_range tstzrange
                                [, description text [, with_growth boolean]])</emphasis> - generate
                            PSH report for the shortest sample interval, covering provided <emphasis
                                role="italic">time_range</emphasis>.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_psh([server name], baseline varchar(25)
                                [, description text [, with_growth boolean]])</emphasis> - generate
                           PSH report, using baseline as samples interval</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="bold">get_psh_latest([server name])</emphasis> -
                            generate PSH report for two latest samples Function arguments:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">server</emphasis> - server name.
                                        <emphasis role="italic">local</emphasis> server is assumed
                                    if omitted</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">start_id</emphasis> - interval begin
                                    sample identifier</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">end_id</emphasis> - interval end
                                    sample identifier</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">time_range</emphasis> - time range
                                        (<emphasis role="italic">tstzrange</emphasis> type)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">baseline</emphasis> - a baseline
                                    name</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">with_growth</emphasis> - a flag,
                                    requesting interval expansion to nearest bounds with relation
                                    growth data available. Default value is <emphasis role="italic"
                                        >false</emphasis></para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">description</emphasis> - a text memo,
                                    it will be included in report as a report description</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
                <para>Report generation example:</para>
                <programlisting>$ ltsql -Aqtc "SELECT get_pwr(480,482)" -o report_480_482.html</programlisting>
                <para>For any other server, use it's name:</para>
                <programlisting>$ ltsql -Aqtc "SELECT get_pwr('omega',12,14)" -o report_omega_12_14.html</programlisting>
                <para>Report generation using time ranges:</para>
                <programlisting>ltsql -Aqtc "select get_psh(tstzrange('2020-05-13 11:51:35+03','2020-05-13 11:52:18+03'))" -o report_range.html</programlisting>
                <para>Also, time ranges is useful for generating periodic reports. Let's build last
                    24-hour report:</para>
                <programlisting>ltsql -Aqtc "select get_psh(tstzrange(now() - interval '1 day',now()))" -o last24h_report.html</programlisting>
                <para>Now you can view report file using any web browser.</para>
            </sect4>
        </sect3>
    </sect2>
    <sect2>
        <title>Sections of PWR report</title>
        <para>Report tables and their columns are described in this section.</para>
        <sect3>
            <title>Server statistics</title>
            <sect4>
                <title>CPU usage statistics</title>
                <para>Contains cpu usage statistics such as user cpu, system cpu, idle cpu and iowait
                      at the begin and end of report.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">%User</emphasis> - user cpu percent</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%System</emphasis> - system cpu percent</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Idle</emphasis> - idle cpu percent</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%IO Wait</emphasis> - io wait cpu percent</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Database memory usage statistics</title>
                <para>Contains memory usage statistics of LightDB at the begin and end of report.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Host memory (MB)</emphasis> - total physical memory of the host</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Shared memory use (MB)</emphasis> - shared memory used in LightDB,
                        which is used by all processes of a LightDB server</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Local memory use (MB)</emphasis> - local memory used in LightDB,
                        which is allocated by each backend process for its own use</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Host memory used for shared memory+local memory (%)</emphasis> - shared
                        memory and local memory as a percentage of total host memory</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Database statistics</title>
                <para>Contains per-database statistics during report interval, based on <emphasis
                        role="italic">pg_stat_database</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Transactions</emphasis> - database transaction
                            statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Commits</emphasis> - number of
                                    committed transactions (<emphasis role="italic"
                                        >xact_commit</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Rollbacks</emphasis> - number of
                                    rolled back transactions (<emphasis role="italic"
                                        >xact_rollback</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Deadlocks</emphasis> - number of
                                    deadlocks detected (<emphasis role="italic"
                                    >deadlocks</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Block statistics</emphasis> - database blocks
                            read and hit statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Hit(%)</emphasis> - buffer cache hit
                                    ratio</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - number of disk
                                    blocks read in this database (<emphasis role="italic"
                                        >blks_read</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Hit</emphasis> - number of times disk
                                    blocks were found already in the buffer cache (<emphasis
                                        role="italic">blks_hit</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tuples</emphasis> - tuples statistics
                            section</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Returned</emphasis> - number of returned
                                    tuples (<emphasis role="italic">tup_returned</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Fetched</emphasis> - number of fetched
                                    tuples (<emphasis role="italic">tup_fetched</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Inserted</emphasis> - inserted tuples count
                                        (<emphasis role="italic">tup_inserted</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Updated</emphasis> - number of updated
                                    tuples (<emphasis role="italic">tup_updated</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Deleted</emphasis> - number of deleted
                                    tuples (<emphasis role="italic">tup_deleted</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Temp files</emphasis> - temporary files
                            statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Size</emphasis> - total amount of data
                                    written to temporary files by queries in this database
                                        (<emphasis role="italic">temp_bytes</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Files</emphasis> - number of temporary
                                    files created by queries in this database (<emphasis
                                        role="italic">temp_files</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Size</emphasis> - database size at the end of
                            report interval (<emphasis role="italic"
                            >pg_database_size()</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Growth</emphasis> - database growth during
                            report interval (<emphasis role="italic">pg_database_size()</emphasis>
                            difference)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Statement statistics by database</title>
                <para>Contains per-database aggregated total statistics of <emphasis role="italic"
                        >pg_stat_statements</emphasis> data (if <emphasis role="italic"
                        >lt_stat_statements</emphasis> extension was available during report
                    interval)</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Calls</emphasis> - total count of all
                            statements executions (sum of <emphasis role="italic"
                            >calls</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Time (s)</emphasis> - time spent in
                            seconds</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Plan</emphasis> - time spent planning
                                    (sum of <emphasis role="italic">total_plan_time</emphasis>) -
                                    available since lt_stat_statements 1.8</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Exec</emphasis> - time spent executing
                                    (sum of <emphasis role="italic">total_time</emphasis> or
                                        <emphasis role="italic">total_exec_time</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - time spent reading
                                    blocks (sum of <emphasis role="italic"
                                    >blk_read_time</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - time spent writing
                                    blocks (sum of <emphasis role="italic"
                                    >blk_write_time</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Trigger</emphasis> - time spent executing
                                    trigger functions</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Fetched blocks</emphasis> - total blocks
                            fetched from disk and buffer cache</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Shared</emphasis> - total fetched
                                    shared blocks count (sum of <emphasis role="italic"
                                        >shared_blks_read + shared_blks_hit</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Local</emphasis> - total fetched local
                                    blocks count (sum of <emphasis role="italic">local_blks_read +
                                        local_blks_hit</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Dirtied blocks</emphasis> - total blocks
                            dirtied in database</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Shared</emphasis> - total number of
                                    shared blocks dirtied in the database (sum of <emphasis
                                        role="italic">shared_blks_dirtied</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Local</emphasis> - total number of
                                    local blocks dirtied in the database (sum of <emphasis
                                        role="italic">local_blks_dirtied</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Temp blocks</emphasis> - blocks used for
                            operations (like joins and sorts)</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - blocks read (sum of
                                        <emphasis role="italic">temp_blks_read</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - blocks written (sum
                                    of <emphasis role="italic">temp_blks_written</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Local blocks</emphasis> - blocks used for
                            temporary tables</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - blocks read (sum of
                                        <emphasis role="italic">local_blks_read</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - blocks written (sum
                                    of <emphasis role="italic">local_blks_written</emphasis>)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Statements</emphasis> - total count of
                            captured statements</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL size</emphasis> - total amount of WAL
                            generated by statements (sum of <emphasis role="italic"
                                >wal_bytes</emphasis>)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Cluster statistics</title>
                <para>This table contains data from <emphasis role="italic"
                        >pg_stat_bgwriter</emphasis> view</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Scheduled checkpoints</emphasis> - total
                            number of checkpoints, completed on schedule due to <emphasis
                                role="italic">checkpoint_timeout</emphasis> parameter (<emphasis
                                role="italic">checkpoints_timed</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Requested checkpoints</emphasis> - total
                            number of other checkpoints: due to values of <emphasis role="italic"
                                >max_wal_size</emphasis>, <emphasis role="italic"
                                >archive_timeout</emphasis> and CHECKPOINT commands (<emphasis
                                role="italic">checkpoints_req</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Checkpoint write time (s)</emphasis> - total
                            time spent writing checkpoints in seconds (<emphasis role="italic"
                                >checkpoint_write_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Checkpoint sync time (s)</emphasis> - total
                            time spent syncing checkpoints in seconds (<emphasis role="italic"
                                >checkpoint_sync_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Checkpoints buffers written</emphasis> - total
                            number of buffers, written by checkpointer (<emphasis role="italic"
                                >buffers_checkpoint</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Background buffers written</emphasis> - total
                            number of buffers, written by background writer process (<emphasis
                                role="italic">buffers_clean</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Backend buffers written</emphasis> - total
                            number of buffers, written by backends (<emphasis role="italic"
                                >buffers_backend</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Backend fsync count</emphasis> - total number
                            of backend fsync calls (<emphasis role="italic"
                                >buffers_backend_fsync</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Bgwriter interrupts (too many
                                buffers)</emphasis> - total count of background writer interrupts
                            due to reaching value of the <emphasis role="italic"
                                >bgwriter_lru_maxpages</emphasis> parameter.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Number of buffers allocated</emphasis> - total
                            count of buffers allocated (<emphasis role="italic"
                                >buffers_alloc</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL generated</emphasis> - total amount of WAL
                            generated (based on <emphasis role="italic"
                                >pg_current_wal_lsn()</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL segments archived</emphasis> - archived
                            WAL segments count (based on <emphasis role="italic"
                                >archived_count</emphasis> of <emphasis role="italic"
                                >pg_stat_archiver</emphasis> view)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL segments archive failed</emphasis> - WAL
                            segment archive failures count (based on <emphasis role="italic"
                                >failed_count</emphasis> of <emphasis role="italic"
                                >pg_stat_archiver</emphasis> view)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Tablespace statistics</title>
                <para>This table contains information about tablespaces sizes and growth:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Path</emphasis> - tablespace path</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Size</emphasis> - tablespace size as it was at
                            time of last sample in report interval</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Growth</emphasis> - tablespace growth during
                            report interval</para>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>Wait event statistics</title>
            <para>This report section contains tables of top wait events statistics during report
                interval sorted by wait time.
            </para>
            <sect4>
                <title>Top wait event type by wait time</title>
                <para>This table contains top <emphasis role="italic">lt_profile.topn</emphasis>
                    wait event types sorted by wait time.</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">Wait Event Type</emphasis> - Type of wait
                                event, each type may contain several wait events.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Time(s)</emphasis> - Total wait time
                                for all wait events of this type.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">%Total Wait Time</emphasis> - Total wait
                                time of this type as a percentage of total wait time for all types
                                of events in a cluster.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </sect4>
            <sect4>
                <title>Top wait event by wait time</title>
                <para>This table contains top <emphasis role="italic">lt_profile.topn</emphasis>
                    wait events sorted by wait time.</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">Wait Event</emphasis> - The specific event
                                that process waiting for.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Event Type</emphasis> - Type of this
                                event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Time(s)</emphasis> - Total wait time
                                of all this event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">%Total Wait Time</emphasis> - Total wait
                                time of all this event as a percentage of total wait time for all
                                types of events in a cluster.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </sect4>
        </sect3>
        <sect3>
            <title>SQL Query statistics</title>
            <para>This report section contains tables of top statements during report interval
                sorted by several important statistics. Data is captured from <emphasis
                    role="italic">pg_stat_statements</emphasis> view if it was available at the time
                of samples.</para>
            <sect4>
                <title>Top SQL by elapsed time</title>
                <para>This table contains top <emphasis role="italic">lt_profile.topn</emphasis>
                    statements sorted by elapsed time <emphasis role="italic"
                        >total_plan_time</emphasis> + <emphasis role="italic"
                        >total_exec_time</emphasis> of <emphasis role="italic"
                        >pg_stat_statements</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - total time of this
                            statement as a percentage of total time of all statements in a
                            cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Time (s)</emphasis> - time spent in this
                            statement (in seconds)</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Elapsed</emphasis> - total time, spent
                                    in this statement (<emphasis role="italic"
                                        >total_plan_time</emphasis> + <emphasis role="italic"
                                        >total_exec_time</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Plan</emphasis> - time spent in
                                    planning this statement (<emphasis role="italic"
                                        >total_plan_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Exec</emphasis> - time spent executing
                                    this query (<emphasis role="italic">total_exec_time</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">I/O time (s)</emphasis>:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - time spent reading
                                    blocks (<emphasis role="italic">blk_read_time</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - time spent writing
                                    blocks (<emphasis role="italic">blk_write_time</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Plans</emphasis> - number of times the
                            statement was planned (<emphasis role="italic">plans</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times the
                            statement was executed (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by planning time</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                        <emphasis role="italic">total_plan_time</emphasis> field of <emphasis
                        role="italic">pg_stat_statements</emphasis> view</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Plan elapsed (s)</emphasis> - time spent in
                            planning this statement (<emphasis role="italic"
                                >total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Elapsed</emphasis> - plan time of this
                            statement as a percentage of statement elapsed time</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Plan times (ms)</emphasis> - detailed plan
                            time statistics of this statement (in milliseconds)</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Mean</emphasis> - mean time spent
                                    planning this statement (<emphasis role="italic"
                                        >mean_plan_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Min</emphasis> - minimum time spent
                                    planning this statement (<emphasis role="italic"
                                        >min_plan_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Max</emphasis> - maximum time spent
                                    planning this statement (<emphasis role="italic"
                                        >max_plan_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">StdErr</emphasis> - population
                                    standard deviation of time spent planning this statement
                                        (<emphasis role="italic">stddev_plan_time</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Plans</emphasis> - number of times this
                            statement was planned (<emphasis role="italic">plans</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times this
                            statement was executed (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by execution time</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                        <emphasis role="italic">total_time</emphasis> (or <emphasis role="italic"
                        >total_exec_time</emphasis>) field of <emphasis role="italic"
                        >pg_stat_statements</emphasis> view</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Exec (s)</emphasis> - time spent executing
                            this statement (<emphasis role="italic">total_exec_time</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Elapsed</emphasis> - execution time of this
                            statement as a percentage of statement elapsed time</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - exec time of this
                            statement as a percentage of total elapsed time of all statements in a
                            cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">I/O time (s)</emphasis>:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - time spent reading
                                    blocks (<emphasis role="italic">blk_read_time</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - time spent writing
                                    blocks (<emphasis role="italic">blk_write_time</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Execution times (ms)</emphasis> - detailed
                            execution time statistics of this statement (in milliseconds)</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Mean</emphasis> - mean time spent
                                    executing this statement (<emphasis role="italic"
                                        >mean_exec_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Min</emphasis> - minimum time spent
                                    executing this statement (<emphasis role="italic"
                                        >min_exec_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Max</emphasis> - maximum time spent
                                    executing this statement (<emphasis role="italic"
                                        >max_exec_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">StdErr</emphasis> - population
                                    standard deviation of time spent executing this statement
                                        (<emphasis role="italic">stddev_exec_time</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times this
                            statement was executed (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by executions</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                        <emphasis role="italic">calls</emphasis> field of <emphasis role="italic"
                        >pg_stat_statements</emphasis> view</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - count of statement
                            executions (<emphasis role="italic">calls</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - <emphasis role="italic"
                                >calls</emphasis> of this statement as a percentage of total
                                <emphasis role="italic">calls</emphasis> of all statements in a
                            cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Mean(ms)</emphasis> - mean time spent in the
                            statement, in milliseconds (<emphasis role="italic">mean_time</emphasis>
                            or <emphasis role="italic">mean_exec_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Min(ms)</emphasis> - minimum time spent in the
                            statement, in milliseconds (<emphasis role="italic">min_time</emphasis>
                            or <emphasis role="italic">min_exec_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Max(ms)</emphasis> - maximum time spent in the
                            statement, in milliseconds (<emphasis role="italic">max_time</emphasis>
                            or <emphasis role="italic">max_exec_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">StdErr(ms)</emphasis> - population standard
                            deviation of time spent in the statement, in milliseconds (<emphasis
                                role="italic">stddev_time</emphasis> or <emphasis role="italic"
                                >stddev_exec_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            executing this query, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by I/O wait time</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                    read and write time (<emphasis role="italic">blk_read_time</emphasis> +
                        <emphasis role="italic">blk_write_time</emphasis>)</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">IO(s)</emphasis> - amount of time spent on
                            reading and writing (I/O time) by this statement in seconds (<emphasis
                                role="italic">blk_read_time</emphasis> + <emphasis role="italic"
                                >blk_write_time</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Read(s)</emphasis> - amount of time spent on
                            reading by this statement in seconds (<emphasis role="italic"
                                >blk_read_time</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Write(s)</emphasis> - amount of time spent on
                            writing by this statement in seconds (<emphasis role="italic"
                                >blk_write_time</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - I/O time of this statement
                            as a percentage of total I/O time for all statements in a cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Reads</emphasis> - number of blocks read by
                            this statement divided in three sub-columns:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Shared</emphasis> - shared reads
                                        (<emphasis role="italic">shared_blks_read</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Local</emphasis> - local reads
                                        (<emphasis role="italic">local_blks_read</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Temp</emphasis> - temp reads (<emphasis
                                        role="italic">temp_blks_read</emphasis> field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Writes</emphasis> - number of blocks written
                            by this statement divided in three sub-columns:</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Shared</emphasis> - shared writes
                                        (<emphasis role="italic">shared_blks_written</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Local</emphasis> - local writes
                                        (<emphasis role="italic">local_blks_written</emphasis>
                                    field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Temp</emphasis> - temp writes
                                        (<emphasis role="italic">temp_blks_written</emphasis>
                                    field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            executing this query, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by shared blocks fetched</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                    read and hit blocks, helping to detect the most data processing
                    statements.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Fetched</emphasis> - number of fetched
                            blocks (expression: <emphasis role="italic">shared_blks_hit</emphasis> +
                                <emphasis role="italic">shared_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - blocks fetched for this
                            statement as a percentage of total blocks fetched for all statements in
                            a cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of blocks got
                            from buffers within all blocks got</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            in this statement, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time+total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by shared blocks read</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                    shared reads, helping to detect most read intensive statements.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Reads</emphasis> - number of shared read
                            blocks for this statement (<emphasis role="italic"
                                >shared_blks_read</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - shared reads for this
                            statement as a percentage of total shared reads for all statements in a
                            cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of blocks got
                            from buffers within all blocks got</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            in this statement, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time+total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by shared blocks dirtied</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                    shared dirtied buffer count, helping to detect most data changing
                    statements.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Dirtied</emphasis> - number of shared blocks
                            dirtied by this statement (<emphasis role="italic"
                                >shared_blks_dirtied</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - shared blocks dirtied by
                            this statement as a percentage of total shared blocks dirtied by all
                            statements in a cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of blocks got
                            from buffers within all blocks got</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            in this statement, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time+total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by shared blocks written</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements, which had
                    to perform writes sorted by written blocks count.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Written</emphasis> - number of blocks written
                            by this statement (<emphasis role="italic"
                                >shared_blks_written</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - number of blocks written
                            by this statement as a percentage of total blocks written by all
                            statements in a cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%BackendW</emphasis> - number of blocks
                            written by this statement as a percentage of all blocks written in a
                            cluster by backends (<emphasis role="italic">buffers_backend</emphasis>
                            field of <emphasis role="italic">pg_stat_bgwriter</emphasis>
                            view)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of blocks got
                            from buffers within all blocks got</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            in this statement, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time+total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by WAL size</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements, sorted by
                    WAL generated (available since <emphasis role="italic"
                        >lt_stat_statements</emphasis> v1.8)</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL</emphasis> - amount of WAL generated by
                            the statement (<emphasis role="italic">wal_bytes</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - amount of WAL generated by
                            the statement as a percentage of total WAL generated in cluster
                                (<emphasis role="italic">pg_current_wal_lsn()</emphasis>
                            increment)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Dirtied</emphasis> - number of shared blocks
                            dirtied by this statement (<emphasis role="italic"
                                >shared_blks_dirtied</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL full page images</emphasis> - total number
                         of WAL full page images generated by the statement (<emphasis role="italic">
                         wal_fpi</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">WAL records</emphasis> - total amount of WAL
                            bytes generated by the statement (<emphasis role="italic"
                                >wal_bytes</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top SQL by temp usage</title>
                <para>Top <emphasis role="italic">lt_profile.topn</emphasis> statements sorted by
                    temp I/O, calculated as the sum of <emphasis role="italic"
                        >temp_blks_read</emphasis>, <emphasis role="italic"
                        >temp_blks_written</emphasis>, <emphasis role="italic"
                        >local_blks_read</emphasis> and <emphasis role="italic"
                        >local_blks_written</emphasis> fields</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                    </listitem>
                    <listitem>
                     <para>
                      <emphasis role="italic">SQL Text</emphasis> - First 100 characters of the complete query.
                     </para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - Statement database name
                            (derived from <emphasis role="italic">dbid</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Local fetched</emphasis> - number of retrieved
                            local blocks (expression: <emphasis role="italic"
                                >local_blks_hit</emphasis> + <emphasis role="italic"
                                >local_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of local
                            blocks got from temp buffers within all local blocks got</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Local blocks</emphasis> - I/O statistics of
                            blocks used in temporary tables</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - number of written
                                    local blocks (<emphasis role="italic"
                                        >local_blks_written</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">%Total</emphasis> - <emphasis
                                        role="italic">local_blks_written</emphasis> of this
                                    statement as a percentage of total <emphasis role="italic"
                                        >local_blks_written</emphasis> for all statements in a
                                    cluster</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - number of read local
                                    blocks (<emphasis role="italic"
                                    >local_blks_read</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">%Total</emphasis> - <emphasis
                                        role="italic">local_blks_read</emphasis> of this statement
                                    as a percentage of total <emphasis role="italic"
                                        >local_blks_read</emphasis> for all statements in a
                                    cluster</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Temp blocks</emphasis> - I/O statistics of
                            blocks used in operations (like sorts and joins)</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Write</emphasis> - number of written
                                    temp blocks (<emphasis role="italic"
                                        >temp_blks_written</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">%Total</emphasis> - <emphasis
                                        role="italic">temp_blks_written</emphasis> of this statement
                                    as a percentage of total <emphasis role="italic"
                                        >temp_blks_written</emphasis> for all statements in a
                                    cluster</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Read</emphasis> - number of read local
                                    blocks (<emphasis role="italic"
                                    >temp_blks_read</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">%Total</emphasis> - <emphasis
                                        role="italic">temp_blks_read</emphasis> of this statement as
                                    a percentage of total <emphasis role="italic"
                                        >temp_blks_read</emphasis> for all statements in a
                                    cluster</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Elapsed(s)</emphasis> - amount of time spent
                            in this statement, in seconds (<emphasis role="italic"
                                >total_time</emphasis> or <emphasis role="italic"
                                >total_exec_time+total_plan_time</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Rows</emphasis> - number of rows retrieved or
                            affected by the statement (<emphasis role="italic">rows</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of executions
                            for this statement (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Complete list of SQL texts</title>
                <para>Query texts of all statements mentioned in report. You can use <emphasis
                        role="italic">Query ID</emphasis> link in any statistic table to get there
                    and see query text.</para>
            </sect4>
        </sect3>
        <sect3>
            <title>Schema object statistics</title>
            <para>This section of report contains top database objects, using statistics from
                Statistics Collector views.</para>
            <sect4>
                <title>Top tables by estimated sequentially scanned volume</title>
                <para>Top database tables sorted by estimated volume, read by sequential scans.
                    Based on <emphasis role="italic">pg_stat_all_tables</emphasis> view. Here you
                    can search for tables, possibly lacks some index on it.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">~SeqBytes</emphasis> - estimated volume, read
                            by sequential scans. Calculated as a sum of <emphasis role="italic"
                                >relation size</emphasis> multiplied by <emphasis role="italic"
                                >seq_scan</emphasis> for all samples of a report.</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">SeqScan</emphasis> - number of sequential
                            scans performed on the table (<emphasis role="italic"
                                >seq_scan</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">IndexScan</emphasis> - number of index scans
                            initiated on this table (<emphasis role="italic">idx_scan</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">IndexFetch</emphasis> - number of live rows fetched
                            by index scans (<emphasis role="italic">idx_tup_fetch</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Inserted</emphasis> - number of rows inserted
                                (<emphasis role="italic">n_tup_ins</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by blocks fetched</title>
                <para>Fetched block is a block being processed from disk (read), or from shared
                    buffers (hit). Tables in this list are sorted by sum of fetched blocks for table
                    relation, its indexes, TOAST of a table (if exists), and TOAST index (if
                    exists). This section can focus your attention on tables with excessive blocks
                    processing. Based on data of <emphasis role="italic"
                        >pg_statio_all_tables</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Heap</emphasis> - statistics for relation
                            blocks fetched (<emphasis role="italic">heap_blks_read</emphasis> +
                                <emphasis role="italic">heap_blks_hit</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - statistics for all relation
                            indexes blocks fetched (<emphasis role="italic">idx_blks_read</emphasis>
                            + <emphasis role="italic">idx_blks_hit</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">TOAST</emphasis> - statistics for TOAST-table
                            blocks fetched (<emphasis role="italic">toast_blks_read</emphasis> +
                                <emphasis role="italic">toast_blks_hit</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">TOAST-Index</emphasis> - statistics for TOAST
                            index blocks fetched (<emphasis role="italic">tidx_blks_read</emphasis>
                            + <emphasis role="italic">tidx_blks_hit</emphasis>)</para>
                    </listitem>
                </itemizedlist>
                <para>Each statistic field in this table is divided in two columns:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Blocks</emphasis> - number of blocks fetched for
                            relation heap, index, TOAST or TOAST index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - blocks fetched for
                            relation heap, index, TOAST or TOAST index as a percentage of all blocks
                            fetched in a whole cluster</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by blocks read</title>
                <para>Top tables sorted by block reads. Tables in this list are sorted by sum of
                    block reads for table, its indexes, TOAST of a table (if exists), and TOAST
                    index (if exists). This section can focus your attention on tables with
                    excessive blocks reading. Based on data of <emphasis role="italic"
                        >pg_statio_all_tables</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Heap</emphasis> - statistics for relation
                            block reads (<emphasis role="italic">heap_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - statistics for all relation
                            indexes blocks reads (<emphasis role="italic"
                            >idx_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">TOAST</emphasis> - statistics for TOAST-table
                            block reads (<emphasis role="italic">toast_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">TOAST-Index</emphasis> - statistics for TOAST
                            index block reads (<emphasis role="italic"
                            >tidx_blks_read</emphasis>)</para>
                    </listitem>
                </itemizedlist>
                <para>Each read statistic in this table is divided in two columns:</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Blocks</emphasis> - number of block reads for
                            relation heap, index, TOAST or TOAST index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - block reads for relation
                            heap, index, TOAST or TOAST index as a percentage of all block reads in
                            a whole cluster</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top DML tables</title>
                <para>Top tables sorted by amount of DML-affected rows, i.e. sum of <emphasis
                        role="italic">n_tup_ins</emphasis>, <emphasis role="italic"
                        >n_tup_upd</emphasis> and <emphasis role="italic">n_tup_del</emphasis>
                    (including TOAST tables).</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Inserted</emphasis> - number of rows inserted
                                (<emphasis role="italic">n_tup_ins</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">SeqScan</emphasis> - number of sequential
                            scans performed on the table (<emphasis role="italic"
                                >seq_scan</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">SeqFetch</emphasis> - number of live rows
                            fetched by sequential scans (<emphasis role="italic"
                                >seq_tup_read</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">IndexScan</emphasis> - number of index scans
                            initiated on this table (<emphasis role="italic">idx_scan</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">IndexFetch</emphasis> - number of live rows fetched
                            by index scans (<emphasis role="italic">idx_tup_fetch</emphasis>
                            field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by updated/deleted tuples</title>
                <para>Top tables sorted by amount of operations, causing autovacuum load, i.e. sum
                    of <emphasis role="italic">n_tup_upd</emphasis> and <emphasis role="italic"
                        >n_tup_del</emphasis> (including TOAST tables). Consider fine-tune of
                    vacuum-related parameters based on provided vacuum and analyze run
                    statistics.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Vacuum</emphasis> - number of times this table
                            has been manually vacuumed (not counting VACUUM FULL) (<emphasis
                                role="italic">vacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">AutoVacuum</emphasis> - number of times this
                            table has been vacuumed by the autovacuum daemon (<emphasis
                                role="italic">autovacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Analyze</emphasis> - number of times this
                            table has been manually analyzed (<emphasis role="italic"
                                >analyze_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">AutoAnalyze</emphasis> - number of times this
                            table has been analyzed by the autovacuum daemon (<emphasis
                                role="italic">autoanalyze_count</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top growing tables</title>
                <para>Top tables sorted by growth</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Size</emphasis> - table size, as it was at the
                            moment of last sample in report interval</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Growth</emphasis> - table growth</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Inserted</emphasis> - number of rows inserted
                                (<emphasis role="italic">n_tup_ins</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top indexes by blocks fetched</title>
                <para>Fetched block is a block being processed from disk (read), or from shared
                    buffers (hit). Based on data of <emphasis role="italic"
                        >pg_statio_all_indexes</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the index is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Scans</emphasis> - number of scans, performed
                            on index (<emphasis role="italic">idx_scan</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Blocks</emphasis> - blocks fetched from this
                            index (<emphasis role="italic">idx_blks_read</emphasis> + <emphasis
                                role="italic">idx_blks_hit</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - blocks fetched for this
                            index as a percentage of all blocks fetched in a whole cluster</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top indexes by blocks read</title>
                <para>Top indexes sorted by block reads. Based on data of <emphasis role="italic"
                        >pg_statio_all_indexes</emphasis> view.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the index is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Scans</emphasis> - number of scans, performed
                            on index (<emphasis role="italic">idx_scan</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Block Reads</emphasis> - number of disk blocks
                            read from this index (<emphasis role="italic"
                            >idx_blks_read</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Total</emphasis> - block reads from this
                            index as a percentage of all block reads in a whole cluster</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Hits(%)</emphasis> - percentage of index
                            blocks got from buffer cache within all index blocks fetched for this
                            index</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top growing indexes</title>
                <para>Top indexes sorted by growth</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the index is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Size</emphasis> - index size, as it
                                    was at the moment of last sample in report interval</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Growth</emphasis> - index growth
                                    during report interval</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - underlying table
                            statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Inserted</emphasis> - number of rows
                                    inserted into underlying table (<emphasis role="italic"
                                        >n_tup_ins</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Updated</emphasis> - number of rows
                                    updated in underlying table (without HOT) (<emphasis
                                        role="italic">n_tup_upd</emphasis> - <emphasis role="italic"
                                        >n_tup_hot_upd</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Deleted</emphasis> - number of rows
                                    deleted from underlying table (<emphasis role="italic"
                                        >n_tup_del</emphasis> field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Unused indexes</title>
                <para>Non-scanned indexes during report interval sorted by DML operations on
                    underlying tables, causing index support. Constraint indexes are
                    excluded.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the index is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Size</emphasis> - index size, as it
                                    was at the moment of last sample in report interval</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Growth</emphasis> - index growth
                                    during report interval</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - underlying table
                            statistics</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Inserted</emphasis> - number of rows
                                    inserted into underlying table (<emphasis role="italic"
                                        >n_tup_ins</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Updated</emphasis> - number of rows
                                    updated in underlying table (without HOT) (<emphasis
                                        role="italic">n_tup_upd</emphasis> - <emphasis role="italic"
                                        >n_tup_hot_upd</emphasis>)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Deleted</emphasis> - number of rows
                                    deleted from underlying table (<emphasis role="italic"
                                        >n_tup_del</emphasis> field)</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>User function statistics</title>
            <para>This report section contains top functions in cluster, based on <emphasis
                    role="italic">pg_stat_user_functions</emphasis> view.</para>
            <sect4>
                <title>Top functions by total time</title>
                <para>Top functions sorted by time elapsed.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            function</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Function</emphasis> - function name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times this
                            function has been called (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Time (s)</emphasis> - function timing
                            statistics in seconds</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Total</emphasis> - total time spent in
                                    this function and all other functions called by it (<emphasis
                                        role="italic">total_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Self</emphasis> - total time spent in
                                    this function itself, not including other functions called by it
                                        (<emphasis role="italic">self_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean</emphasis> - mean time of single
                                    function execution</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean self</emphasis> - mean self time
                                    of single function execution</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top functions by executions</title>
                <para>Top functions sorted by executions count.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            function</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Function</emphasis> - function name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times this
                            function has been called (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Time (s)</emphasis> - function timing
                            statistics in seconds</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Total</emphasis> - total time spent in
                                    this function and all other functions called by it (<emphasis
                                        role="italic">total_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Self</emphasis> - total time spent in
                                    this function itself, not including other functions called by it
                                        (<emphasis role="italic">self_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean</emphasis> - mean time of single
                                    function execution</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean self</emphasis> - mean self time
                                    of single function execution</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top trigger functions by total time</title>
                <para>Top trigger functions sorted by time elapsed.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            function</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Function</emphasis> - function name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Executions</emphasis> - number of times this
                            function has been called (<emphasis role="italic">calls</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Time (s)</emphasis> - function timing
                            statistics in seconds</para>
                        <itemizedlist>
                            <listitem>
                                <para><emphasis role="italic">Total</emphasis> - total time spent in
                                    this function and all other functions called by it (<emphasis
                                        role="italic">total_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Self</emphasis> - total time spent in
                                    this function itself, not including other functions called by it
                                        (<emphasis role="italic">self_time</emphasis> field)</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean</emphasis> - mean time of single
                                    function execution</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="italic">Mean self</emphasis> - mean self time
                                    of single function execution</para>
                            </listitem>
                        </itemizedlist>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>Vacuum-related statistics</title>
            <sect4>
                <title>Top tables by vacuum operations</title>
                <para>Top tables sorted by vacuums (manual and automatic) processed</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Vacuum count</emphasis> - number of times this
                            table has been manually vacuumed (not counting VACUUM FULL) (<emphasis
                                role="italic">vacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Autovacuum count</emphasis> - number of times
                            this table has been vacuumed by the autovacuum daemon (<emphasis
                                role="italic">autovacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Inserted</emphasis> - number of rows inserted
                                (<emphasis role="italic">n_tup_ins</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by analyze operations</title>
                <para>Top tables sorted by analyze run (manual and automatic) count</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the table is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Analyze count</emphasis> - number of times
                            this table has been manually analyzed (<emphasis role="italic"
                                >analyze_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Autoanalyze count</emphasis> - number of times
                            this table has been analyzed by the autovacuum daemon (<emphasis
                                role="italic">autoanalyze_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Inserted</emphasis> - number of rows inserted
                                (<emphasis role="italic">n_tup_ins</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Updated</emphasis> - number of rows updated
                            (including HOT) (<emphasis role="italic">n_tup_upd</emphasis>
                            field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Deleted</emphasis> - number of rows deleted
                                (<emphasis role="italic">n_tup_del</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">HOT Updated</emphasis> - number of rows HOT
                            updated (<emphasis role="italic">n_tup_hot_upd</emphasis> field)</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top indexes by estimated vacuum I/O load</title>
                <para>This table provides estimation of implicit vacuum load caused by table
                    indexes. Here is top indexes sorted by count of vacuums performed on underlying
                    table multiplied by index size.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Tablespace</emphasis> - tablespace name, where
                            the index is located</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            index</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index</emphasis> - index name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">~Vacuum bytes</emphasis> - vacuum load
                            estimation calculated as (<emphasis role="italic"
                                >vacuum_count</emphasis> + <emphasis role="italic"
                                >autovacuum_count</emphasis>) * <emphasis role="italic"
                                >index_size</emphasis></para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Vacuum count</emphasis> - number of times this
                            table has been manually vacuumed (not counting VACUUM FULL) (<emphasis
                                role="italic">vacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Autovacuum count</emphasis> - number of times
                            this table has been vacuumed by the autovacuum daemon (<emphasis
                                role="italic">autovacuum_count</emphasis> field)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Index size</emphasis> - average index size during
                            report interval</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Relsize</emphasis> - average relation size
                            during report interval</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by dead tuples ratio</title>
                <para>This section contains modified tables with last vacuum run. Statistics is
                    valid for last sample in report interval. Based on <emphasis role="italic"
                        >pg_stat_all_tables</emphasis> view.</para>
                <para>Top tables, sized 5 MB and more, sorted by dead tuples ratio.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Live</emphasis> - estimated number of live
                            rows (<emphasis role="italic">n_live_tup</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Dead</emphasis> - estimated number of dead
                            rows (<emphasis role="italic">n_dead_tup</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Dead</emphasis> - dead rows of the table as a
                            percentage of all rows in the table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Last AutoVacuum</emphasis> - last time when this table
                            was vacuumed by the autovacuum daemon (<emphasis role="italic"
                                >last_autovacuum</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Size</emphasis> - table size, as it was at the
                            moment of last report sample.</para>
                    </listitem>
                </itemizedlist>
            </sect4>
            <sect4>
                <title>Top tables by modified tuples ratio</title>
                <para>This section contains modified tables with last vacuum run. Statistics is
                    valid for last sample in report interval. Based on <emphasis role="italic"
                        >pg_stat_all_tables</emphasis> view.</para>
                <para>Top tables, sized 5 MB and more, sorted by modified tuples ratio.</para>
                <itemizedlist>
                    <listitem>
                        <para><emphasis role="italic">Database</emphasis> - database name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Schema</emphasis> - schema name of the
                            table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Table</emphasis> - table name</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Live</emphasis> - estimated number of live
                            rows (<emphasis role="italic">n_live_tup</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Dead</emphasis> - estimated number of dead
                            rows (<emphasis role="italic">n_dead_tup</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Mod</emphasis> - estimated number of rows
                            modified since this table was last analyzed (<emphasis role="italic"
                                >n_mod_since_analyze</emphasis>)</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">%Mod</emphasis> - modified rows of the table
                            as a percentage of all rows in the table</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Last AutoAnalyze</emphasis> - last time when this table
                            was analyzed by the autovacuum daemon</para>
                    </listitem>
                    <listitem>
                        <para><emphasis role="italic">Size</emphasis> - table size, as it was at the
                            moment of last report sample.</para>
                    </listitem>
                </itemizedlist>
            </sect4>
        </sect3>
        <sect3>
            <title>Cluster settings during the report interval</title>
            <para>This section of a report contains LightDB GUC parameters, and values of functions
                    <emphasis role="italic">version()</emphasis>, <emphasis role="italic"
                    >pg_postmaster_start_time()</emphasis>, <emphasis role="italic"
                    >pg_conf_load_time()</emphasis> and field <emphasis role="italic"
                    >system_identifier</emphasis> of <emphasis role="italic"
                    >pg_control_system()</emphasis> function during report interval.</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="italic">Setting</emphasis> - name of a parameter</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">reset_val</emphasis> - reset_val field of
                            <emphasis role="italic">pg_settings</emphasis> view. Bold font is used
                        to show settings, changed during report interval.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">Unit</emphasis> - setting unit</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">Source</emphasis> - configuration file, where this
                        setting was defined, line number after semicolon.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">Notes</emphasis> - This field will contain
                        timestamp of a sample, when this value was observed first time during report
                        interval.</para>
                </listitem>
            </itemizedlist>
        </sect3>
        <sect3>
            <title>Kernel settings during the report interval</title>
            <para>This section of a report contains several important linux kernel parameters.</para>
            <itemizedlist>
                <listitem>
                    <para><emphasis role="italic">Setting</emphasis> - name of a parameter</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">Value</emphasis> - value of a parameter.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="italic">Source</emphasis> - configuration file, where this
                        setting was defined.</para>
                </listitem>
            </itemizedlist>
        </sect3>
        <sect3>
            <title>What you need to remember...</title>
            <orderedlist>
                <listitem>
                    <para>LightDB collects execution statistics <emphasis role="bold"
                            >after</emphasis> execution is complete. If single execution of a
                        statement lasts for several samples, it will affect statistics of only last
                        sample (when it was completed). And you can't get statistics on still
                        running statements. Also, maintenance processes like vacuum and checkpointer
                        will update statistics only on completion.</para>
                </listitem>
                <listitem>
                    <para>Resetting any LightDB statistics may affect accuracy of a next
                        sample.</para>
                </listitem>
                <listitem>
                    <para>Exclusive locks on relations conflicts with calculating relation size.
                        Sample won't collect relation sizes of relations with AccessExclusiveLock
                        held by any session. However, a session can aquire AccessExclusiveLock on
                        relation during sample processing. To workaround this problem, <emphasis
                            role="italic">lock_timeout</emphasis> is set to 3s, so if <emphasis
                            role="italic">take_sample()</emphasis> function will be unable to
                        acquire a lock for 3 seconds, it will fail, and no sample will be
                        generated.</para>
                </listitem>
            </orderedlist>
        </sect3>
    </sect2>
    <sect2>
        <title>Sections of PSH report</title>
        <para>Report tables and their columns are described in this section.</para>
        <sect3>
            <title>Top Wait Events</title>
            <sect4>
                <title>Top User Events</title>
                <para>This table contains top <emphasis role="italic">lt_profile.topn</emphasis>
                    user wait event sorted by wait time.</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">Wait Event</emphasis> - The specific event
                                that process waiting for.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Event Type</emphasis> - Type of this
                                event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Time(s)</emphasis> - Total wait time
                                of all this event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">%Total Wait Time</emphasis> - Total wait
                                time of all this event as a percentage of total wait time for all
                                types of events in a cluster.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </sect4>
            <sect4>
                <title>Top Background Events</title>
                <para>This table contains top <emphasis role="italic">lt_profile.topn</emphasis>
                    background wait event sorted by wait time.</para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">Wait Event</emphasis> - The specific event
                                that process waiting for.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Event Type</emphasis> - Type of this
                                event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Time(s)</emphasis> - Total wait time
                                of all this event.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">%Total Wait Time</emphasis> - Total wait
                                time of all this event as a percentage of total wait time for all
                                types of events in a cluster.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </sect4>
        </sect3>
        <sect3>
            <title>Top SQL</title>
            <sect4>
                <title>Top SQL with Top Events</title>
                <para>
                 Top wait events sorted by wait time for the top statements sorted by <emphasis role="italic">
                 total_exec_time</emphasis> field of <emphasis role="italic">pg_stat_statements</emphasis> view.
                </para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><emphasis role="italic">Query ID</emphasis> - Query identifier as a
                            hash of database, user and query text. Compatible with <emphasis
                                role="italic">ltcenter</emphasis> utility. Native <emphasis
                                role="italic">pg_stat_statements</emphasis> field <emphasis
                                role="italic">qieryid</emphasis> in hexadecimal notation is shown in
                            square brackets.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">SQL Text</emphasis> - First 100 characters
                            of the complete query.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Exec (s)</emphasis> - time spent executing
                            this statement (<emphasis role="italic">total_exec_time</emphasis>
                            field).</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">%Total</emphasis> - exec time of this
                            statement as a percentage of total elapsed time of all statements in a
                            cluster</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Event</emphasis> - The specific event
                                that process waiting for.</para>
                        </listitem>
                        <listitem>
                            <para><emphasis role="italic">Wait Time(s)</emphasis> - Total wait time
                                of the event in this query.</para>
                        </listitem>
                    </itemizedlist>
                </para>
            </sect4>
            <sect4>
                <title>Complete list of SQL texts</title>
                <para>Query texts of all statements mentioned in report. You can use <emphasis
                        role="italic">Query ID</emphasis> link in any statistic table to get there
                    and see query text.</para>
            </sect4>
        </sect3>
    </sect2>
</sect1>
